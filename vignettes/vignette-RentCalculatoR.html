<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Ruth Peterhans and Giuliano Giovanardi" />

<meta name="date" content="2020-06-12" />

<title>Vignette to RentCalculatoR</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Vignette to RentCalculatoR</h1>
<h4 class="author">Ruth Peterhans and Giuliano Giovanardi</h4>
<h4 class="date">2020-06-12</h4>



<p>The package RentCalculatoR calculates the change in rent of residential real estate according to swiss law. Changes in value-adding investments, depreciation, interest and reference interest rates can be taken into account. As well as changes due to changes in the market such as inflation, mortgage and cost increments.</p>
<p>
<div id="part-a-getting-the-relevant-data" class="section level2">
<h2>PART A: Getting the relevant data</h2>
<div id="explanation-behind" class="section level3">
<h3>Explanation behind</h3>
We use three functions that get the relevant information from the system or from scraping of the webpage of the Department of Statistics or the Department of Housing. They are coded in PART A and are accessible with the function RentInformations(). They will be available as Data on the name act_results.
<p>
<ul>
<li>current relevant and official mortgage rent (in %); from <a href="https://www.bwo.admin.ch%5D%3Chttps://www.bwo.admin.ch/bwo/de/home/mietrecht/referenzzinssatz/entwicklung-referenzzinssatz-und-durchschnittszinssatz.html" class="uri">https://www.bwo.admin.ch]&lt;https://www.bwo.admin.ch/bwo/de/home/mietrecht/referenzzinssatz/entwicklung-referenzzinssatz-und-durchschnittszinssatz.html</a></li>
<li>current date for the calculation on inflation and on general cost increases</li>
<li>official information about the inflation rates from xlsx-file on <a href="https://www.bfs.admin.ch/bfsstatic/dam/assets/12827290/master/" class="uri">https://www.bfs.admin.ch/bfsstatic/dam/assets/12827290/master/</a></li>
</ul>
<p>
<p>We will use this information in Part B and C.</p>
<p>
<p>This package uses different functions to calculate changes in rents separately (see PART A.1 - A.3).</p>
</div>
<div id="a.1-mortgage_rates-returns-a-clean-table-with-the-dates-and-rates-of-mortgage" class="section level3">
<h3>A.1 mortgage_rates(): returns a clean table with the dates and rates of mortgage</h3>
<p>The law allows you to calculate the amount of rent new, if there is a change in the mortgage rent (article 12a and 13 VMWG, Tenancy Law Regulation). Therefore you have to know the mortgage rates, which are calculated and published by the Department of Housing (<a href="https://www.bwo.admin.ch/bwo/de/home/mietrecht/referenzzinssatz/entwicklung-referenzzinssatz-und-durchschnittszinssatz.html" class="uri">https://www.bwo.admin.ch/bwo/de/home/mietrecht/referenzzinssatz/entwicklung-referenzzinssatz-und-durchschnittszinssatz.html</a>). To calculate the change you have to know the actual mortgage, which we are elaborating with the RentInformations function. Then you need to know the last date, when the mortgage rate was updated on your rent (reference_last_date). Because the changing have different levels by art. 13 VMWG and also by changing to the positive or negative, the code is a bit more complex. We explain more of the details inside the commented code.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>mortgage_rates &lt;-<span class="st"> </span><span class="cf">function</span>(){</span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a>  <span class="co"># get the mortgage rates from the website of the statistics of the government</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>  mortgage_url&lt;-<span class="st"> &quot;https://www.bwo.admin.ch/bwo/de/home/mietrecht/referenzzinssatz/entwicklung-referenzzinssatz-und-durchschnittszinssatz.html&quot;</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>  mortgage_urlHtml &lt;-<span class="st"> </span>mortgage_url <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">read_html</span>()</span>
<span id="cb1-6"><a href="#cb1-6"></a>  mortgage_data &lt;-<span class="st"> </span>mortgage_urlHtml <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_table</span>(<span class="dt">header=</span><span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>as.data.frame</span>
<span id="cb1-7"><a href="#cb1-7"></a></span>
<span id="cb1-8"><a href="#cb1-8"></a>  <span class="co"># clean up the data: set column names, define data types</span></span>
<span id="cb1-9"><a href="#cb1-9"></a>  mortgage_data_clean &lt;-<span class="st"> </span><span class="kw">data.frame</span>(mortgage_data[,(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)])</span>
<span id="cb1-10"><a href="#cb1-10"></a>  <span class="kw">colnames</span>(mortgage_data_clean) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;mortgage_rate&quot;</span>, <span class="st">&quot;valuable_from&quot;</span>)</span>
<span id="cb1-11"><a href="#cb1-11"></a>  mortgage_data_clean<span class="op">$</span>mortgage_rate &lt;-<span class="st"> </span><span class="kw">parse_number</span>(mortgage_data_clean<span class="op">$</span>mortgage_rate, <span class="dt">locale =</span> <span class="kw">locale</span>(<span class="dt">decimal_mark=</span><span class="st">&quot;,&quot;</span>))</span>
<span id="cb1-12"><a href="#cb1-12"></a>  mortgage_data_clean<span class="op">$</span>valuable_from &lt;-<span class="st"> </span><span class="kw">strptime</span>(mortgage_data_clean<span class="op">$</span>valuable_from, <span class="dt">format=</span><span class="st">&quot;%d.%m.%Y&quot;</span>)</span>
<span id="cb1-13"><a href="#cb1-13"></a>  mortgage_data_clean<span class="op">$</span>valuable_from &lt;-<span class="st"> </span><span class="kw">as.Date</span>(mortgage_data_clean<span class="op">$</span>valuable_from)</span>
<span id="cb1-14"><a href="#cb1-14"></a></span>
<span id="cb1-15"><a href="#cb1-15"></a>  <span class="co"># clean the line with additional Information, because the different way in measuring is not relevant to the calculations</span></span>
<span id="cb1-16"><a href="#cb1-16"></a>  mortgage_data_clean &lt;-<span class="st"> </span>mortgage_data_clean[<span class="kw">complete.cases</span>(mortgage_data_clean),]</span>
<span id="cb1-17"><a href="#cb1-17"></a></span>
<span id="cb1-18"><a href="#cb1-18"></a>  <span class="co"># return the data as dataframe</span></span>
<span id="cb1-19"><a href="#cb1-19"></a>  <span class="kw">return</span>(mortgage_data_clean)</span>
<span id="cb1-20"><a href="#cb1-20"></a>}</span></code></pre></div>
</div>
<div id="part-a.2-inflation_rates-returns-a-clean-table-with-the-dates-and-rates-of-inflation-based-2015" class="section level3">
<h3>PART A.2: inflation_rates(), returns a clean table with the dates and rates of inflation (based 2015)</h3>
<p>We getting the inflation rate tables from the Department of Statistics (xlsx download of the department for statistics <a href="https://www.bfs.admin.ch/bfsstatic/dam/assets/12827290/master" class="uri">https://www.bfs.admin.ch/bfsstatic/dam/assets/12827290/master</a>).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>inflation_rates &lt;-<span class="st"> </span><span class="cf">function</span>(){</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a>  <span class="co"># To ignore the warnings during usage</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>  <span class="kw">options</span>(<span class="dt">warn=</span><span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb2-5"><a href="#cb2-5"></a>  <span class="kw">options</span>(<span class="st">&quot;getSymbols.warning4.0&quot;</span>=<span class="ot">FALSE</span>)</span>
<span id="cb2-6"><a href="#cb2-6"></a></span>
<span id="cb2-7"><a href="#cb2-7"></a>  <span class="co"># We download the inflation rates data from the department of statistics</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>  URL_inflation &lt;-<span class="st"> &quot;https://www.bfs.admin.ch/bfsstatic/dam/assets/13047088/master&quot;</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>  <span class="kw">download.file</span>(URL_inflation, <span class="dt">destfile =</span> <span class="st">&quot;inflation_rates.xlsx&quot;</span>)</span>
<span id="cb2-10"><a href="#cb2-10"></a>  inflation_base2015 &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;inflation_rates.xlsx&quot;</span>, <span class="dt">sheet =</span> <span class="st">&quot;2015&quot;</span>,</span>
<span id="cb2-11"><a href="#cb2-11"></a>                                   <span class="dt">col_names =</span>  <span class="kw">c</span>(<span class="st">&quot;year&quot;</span>, (<span class="dv">1</span><span class="op">:</span><span class="dv">17</span>)))</span>
<span id="cb2-12"><a href="#cb2-12"></a></span>
<span id="cb2-13"><a href="#cb2-13"></a>  <span class="co"># clean the spreadsheet of 2015 indices, because we need only the inflation per month for each year</span></span>
<span id="cb2-14"><a href="#cb2-14"></a>  inflation_clean &lt;-<span class="st"> </span><span class="kw">data.frame</span>(inflation_base2015[,(<span class="dv">1</span><span class="op">:</span><span class="dv">13</span>)])</span>
<span id="cb2-15"><a href="#cb2-15"></a>  inflation_clean<span class="op">$</span>year &lt;-<span class="st"> </span><span class="kw">as.Date.character</span>(inflation_clean<span class="op">$</span>year, <span class="dt">format =</span> <span class="st">&quot;%Y&quot;</span>)</span>
<span id="cb2-16"><a href="#cb2-16"></a>  inflation_clean<span class="op">$</span>year &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(<span class="kw">format</span>(inflation_clean<span class="op">$</span>year, <span class="st">&quot;%Y&quot;</span>))</span>
<span id="cb2-17"><a href="#cb2-17"></a></span>
<span id="cb2-18"><a href="#cb2-18"></a>  <span class="co"># take only cases where year has a value and sort from actual to past years</span></span>
<span id="cb2-19"><a href="#cb2-19"></a>  years_only &lt;-<span class="st"> </span><span class="kw">complete.cases</span>(inflation_clean<span class="op">$</span>year)</span>
<span id="cb2-20"><a href="#cb2-20"></a>  inflation_clean &lt;-<span class="st"> </span><span class="kw">cbind</span>(years_only, inflation_clean)</span>
<span id="cb2-21"><a href="#cb2-21"></a>  inflation_clean &lt;-<span class="st"> </span><span class="kw">subset</span>(inflation_clean, years_only <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span>)</span>
<span id="cb2-22"><a href="#cb2-22"></a>  inflation_clean &lt;-<span class="st"> </span>inflation_clean [,(<span class="dv">2</span><span class="op">:</span><span class="dv">14</span>)]</span>
<span id="cb2-23"><a href="#cb2-23"></a>  inflation_clean &lt;-<span class="st"> </span>inflation_clean[<span class="kw">order</span>(inflation_clean<span class="op">$</span>year, <span class="dt">decreasing =</span> <span class="ot">TRUE</span>),]</span>
<span id="cb2-24"><a href="#cb2-24"></a></span>
<span id="cb2-25"><a href="#cb2-25"></a>  <span class="co"># return the data as dataframe</span></span>
<span id="cb2-26"><a href="#cb2-26"></a>  <span class="kw">return</span>(inflation_clean)</span>
<span id="cb2-27"><a href="#cb2-27"></a>}</span></code></pre></div>
</div>
<div id="part-a.3-rentinformations-returns-act_mortgage-act_date-act_infl_rate" class="section level3">
<h3>PART A.3: RentInformations(), returns (act_mortgage, act_date, act_infl_rate)</h3>
<p>The RentInformations function gives you the actual data which is needed to calculate some changes in rents in PART B and C.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>RentInformations &lt;-<span class="st"> </span><span class="cf">function</span>(){</span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="co"># MORTGAGE - getting the actual mortgage (act_mortgage) from PART A.1</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="co"># filter out the actual mortgage rate (i.e. the last published) </span></span>
<span id="cb3-5"><a href="#cb3-5"></a>  act_mortgage &lt;-<span class="st"> </span><span class="kw">mortgage_rates</span>()</span>
<span id="cb3-6"><a href="#cb3-6"></a>  act_mortgage &lt;-<span class="st"> </span>act_mortgage<span class="op">$</span>mortgage_rate[<span class="dv">1</span>]</span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a>  <span class="co"># ACTUAL DATE - getting the actual date (act_date) out of the system</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>  act_date &lt;-<span class="st"> </span><span class="kw">Sys.Date</span>()</span>
<span id="cb3-10"><a href="#cb3-10"></a></span>
<span id="cb3-11"><a href="#cb3-11"></a>  <span class="co"># INFLATION RATE - getting the actual inflation rate (act_inflation_rate) from PART A.2</span></span>
<span id="cb3-12"><a href="#cb3-12"></a>  <span class="co"># filter out the actual inflation rate (i.e. the last published)</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>  inflation_rates_data &lt;-<span class="st"> </span><span class="kw">inflation_rates</span>()</span>
<span id="cb3-14"><a href="#cb3-14"></a>  act_inflation_rate &lt;-<span class="st"> </span>inflation_rates_data[<span class="dv">1</span>,]</span>
<span id="cb3-15"><a href="#cb3-15"></a>  act_inflation_rate &lt;-<span class="st"> </span><span class="kw">gather</span>(act_inflation_rate)</span>
<span id="cb3-16"><a href="#cb3-16"></a>  act_inflation_rate &lt;-<span class="st"> </span><span class="kw">subset</span>(act_inflation_rate, <span class="op">!</span><span class="kw">is.na</span>(act_inflation_rate<span class="op">$</span>value))</span>
<span id="cb3-17"><a href="#cb3-17"></a>  act_inflation_rate &lt;-<span class="st"> </span><span class="kw">as.character</span>(act_inflation_rate<span class="op">$</span>value)</span>
<span id="cb3-18"><a href="#cb3-18"></a>  act_inflation_rate &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(dplyr<span class="op">::</span><span class="kw">last</span>(act_inflation_rate))</span>
<span id="cb3-19"><a href="#cb3-19"></a></span>
<span id="cb3-20"><a href="#cb3-20"></a>  <span class="co"># PRINT RESULTS</span></span>
<span id="cb3-21"><a href="#cb3-21"></a>  <span class="co"># overview of the results and report</span></span>
<span id="cb3-22"><a href="#cb3-22"></a>  actual_data &lt;-<span class="st"> </span><span class="kw">c</span>(act_mortgage, <span class="kw">as.character</span>(act_date), act_inflation_rate)</span>
<span id="cb3-23"><a href="#cb3-23"></a>  actual_answers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;The actual mortgage rate in % is:&quot;</span>, <span class="st">&quot;The actual date is:&quot;</span>,</span>
<span id="cb3-24"><a href="#cb3-24"></a>                      <span class="st">&quot;And the actual inflation rate is (points on 2015 basis)&quot;</span>)</span>
<span id="cb3-25"><a href="#cb3-25"></a>  actual_print_result &lt;-<span class="st"> </span><span class="kw">as.table</span>(<span class="kw">cbind</span>(actual_answers, actual_data))</span>
<span id="cb3-26"><a href="#cb3-26"></a>  <span class="kw">print</span>(actual_print_result)</span>
<span id="cb3-27"><a href="#cb3-27"></a></span>
<span id="cb3-28"><a href="#cb3-28"></a>  <span class="co"># return the actual data in a dataframe</span></span>
<span id="cb3-29"><a href="#cb3-29"></a>  act_data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(actual_data)</span>
<span id="cb3-30"><a href="#cb3-30"></a>  act_data &lt;-<span class="st"> </span><span class="kw">cbind</span>(<span class="kw">c</span>(<span class="st">&quot;act_mortgage&quot;</span>, <span class="st">&quot;act_date&quot;</span>, <span class="st">&quot;act_inflation_rate&quot;</span>), act_data)</span>
<span id="cb3-31"><a href="#cb3-31"></a>  <span class="kw">colnames</span>(act_data) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;value&quot;</span>)</span>
<span id="cb3-32"><a href="#cb3-32"></a>  row1 &lt;-<span class="st"> </span><span class="kw">as.vector</span>(act_data<span class="op">$</span>name)</span>
<span id="cb3-33"><a href="#cb3-33"></a>  row2 &lt;-<span class="st"> </span><span class="kw">as.vector</span>(act_data<span class="op">$</span>value)</span>
<span id="cb3-34"><a href="#cb3-34"></a>  act_data &lt;-<span class="st"> </span><span class="kw">rbind</span>(row2)</span>
<span id="cb3-35"><a href="#cb3-35"></a>  <span class="kw">colnames</span>(act_data) &lt;-<span class="st"> </span>row1</span>
<span id="cb3-36"><a href="#cb3-36"></a>  <span class="kw">return</span>(act_data)</span>
<span id="cb3-37"><a href="#cb3-37"></a>}</span></code></pre></div>
</div>
<div id="a.4-example-to-part-a" class="section level3">
<h3>A.4 Example to PART A</h3>
<p>If you would like to know what the actual relevant data for rents is. This output will be used for the other functions in Part B and C as well.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>act_results &lt;-<span class="st"> </span><span class="kw">RentInformations</span>()</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">#&gt;   actual_answers                                          actual_data</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">#&gt; A The actual mortgage rate in % is:                       1.25       </span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">#&gt; B The actual date is:                                     2020-06-12 </span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3</span></span></code></pre></div>
</div>
</div>
<div id="part-b-rentinvestcalculator" class="section level2">
<h2>PART B: RentInvestCalculatoR</h2>
<div id="explanation-behind-1" class="section level3">
<h3>Explanation behind</h3>
<p>Rents are based on different market circumstances (see PART C). If you are investing into an apartment additional value-increasing components, you are allowed to increase the rent (art. 14 VMWG). Therefore you need to take account the investment in CHF, and how much it’s value-adding. Most of the time this is a rate between 50 and 70 %. Only if you invest in something completely new (i.e. that wasn’t there in a former version) or if it is something which supports ecology of the building you can take 100 %. Because lifespan of elements differ it has to be taken into account as well. On the webpage <a href="https://www.mietrecht.ch/index.php?id=32" class="uri">https://www.mietrecht.ch/index.php?id=32</a> you can look up different lifespans that are commonly accepted. The maintenance rate differs on the component. Some need no maintenance during the warranty and other never (for example a dishwasher or a carpet). Therefore you can choose a maintenance rate between 0 and 10 % by a Supreme court ruling.</p>
<div id="information-from-the-user-to-put-into-the-function" class="section level4">
<h4>Information from the user to put into the function</h4>
To calculate the changes due to investments we need from the user (PART B of the package):
<p>
<ul>
<li>actual net rent (act_rent_CHF)</li>
<li>total investment (investment_CHF)</li>
<li>value-increasing share in % (increasing_share)</li>
<li>lifespan in years (lifespan)</li>
<li>maintenance allowance in % (maintenance_rate), set to 10 % by default due to a Supreme Court ruling.</li>
</ul>
<p>
<p>And we use the actual mortgage (act_mortgage) from the RentInformations function (see in PART A.3)</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>  RentInvestCalculatoR &lt;-<span class="st"> </span><span class="cf">function</span>(act_rent_CHF, investment_CHF, increasing_share,</span>
<span id="cb5-2"><a href="#cb5-2"></a>                                 lifespan, <span class="dt">maintenance_rate=</span><span class="dv">10</span>){</span>
<span id="cb5-3"><a href="#cb5-3"></a></span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="co"># calling the results of the RentInformations function (PART A) and take the actual mortgage</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>  act_data &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">RentInformations</span>( ))</span>
<span id="cb5-6"><a href="#cb5-6"></a>  act_mortgage &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(act_data<span class="op">$</span>act_mortgage)</span>
<span id="cb5-7"><a href="#cb5-7"></a></span>
<span id="cb5-8"><a href="#cb5-8"></a>  <span class="co"># the increasing share and the depreciation of the investment in CHF</span></span>
<span id="cb5-9"><a href="#cb5-9"></a>  value_incr_share_CHF &lt;-<span class="st"> </span>investment_CHF<span class="op">/</span><span class="dv">100</span><span class="op">*</span>increasing_share</span>
<span id="cb5-10"><a href="#cb5-10"></a>  depreciation_CHF &lt;-<span class="st"> </span>value_incr_share_CHF<span class="op">/</span>lifespan</span>
<span id="cb5-11"><a href="#cb5-11"></a></span>
<span id="cb5-12"><a href="#cb5-12"></a>  <span class="co"># the allowed interest by law is 0.5 % above the actual mortgage rate (divided to 2 parties)</span></span>
<span id="cb5-13"><a href="#cb5-13"></a>  allowed_interest &lt;-<span class="st"> </span>(act_mortgage<span class="fl">+.5</span>)<span class="op">/</span><span class="dv">2</span></span>
<span id="cb5-14"><a href="#cb5-14"></a>  <span class="co"># this leads to a change due to interests</span></span>
<span id="cb5-15"><a href="#cb5-15"></a>  interest_CHF &lt;-<span class="st"> </span>value_incr_share_CHF<span class="op">*</span>allowed_interest<span class="op">/</span><span class="dv">100</span></span>
<span id="cb5-16"><a href="#cb5-16"></a></span>
<span id="cb5-17"><a href="#cb5-17"></a>  <span class="co"># the intermediate result for the change is the sum of the depreciation and the interests</span></span>
<span id="cb5-18"><a href="#cb5-18"></a>  int_result &lt;-<span class="st"> </span>depreciation_CHF<span class="op">+</span>interest_CHF</span>
<span id="cb5-19"><a href="#cb5-19"></a></span>
<span id="cb5-20"><a href="#cb5-20"></a>  <span class="co"># the allowed maintenance increase is 10 % of the intermediate result</span></span>
<span id="cb5-21"><a href="#cb5-21"></a>  maintenance_CHF &lt;-<span class="st"> </span>int_result<span class="op">*</span>maintenance_rate<span class="op">/</span><span class="dv">100</span></span>
<span id="cb5-22"><a href="#cb5-22"></a></span>
<span id="cb5-23"><a href="#cb5-23"></a>  <span class="co">#############################</span></span>
<span id="cb5-24"><a href="#cb5-24"></a>  <span class="co"># PRINT RESULTS</span></span>
<span id="cb5-25"><a href="#cb5-25"></a>  <span class="co">#############################</span></span>
<span id="cb5-26"><a href="#cb5-26"></a></span>
<span id="cb5-27"><a href="#cb5-27"></a>  <span class="co"># total rent results and report</span></span>
<span id="cb5-28"><a href="#cb5-28"></a>  total_add_rent_monthly_CHF &lt;-<span class="st"> </span>(int_result <span class="op">+</span><span class="st"> </span>maintenance_CHF)<span class="op">/</span><span class="dv">12</span></span>
<span id="cb5-29"><a href="#cb5-29"></a>  total_new_rent_monthly_CHF &lt;-<span class="st"> </span>(<span class="dv">12</span><span class="op">*</span>act_rent_CHF <span class="op">+</span><span class="st"> </span>int_result <span class="op">+</span><span class="st"> </span>maintenance_CHF)<span class="op">/</span><span class="dv">12</span></span>
<span id="cb5-30"><a href="#cb5-30"></a>  rent_answers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Your actual rent per month in CHF is:&quot;</span>, <span class="st">&quot;The additional rent per month in CHF is:&quot;</span>,</span>
<span id="cb5-31"><a href="#cb5-31"></a>                    <span class="st">&quot;And the new total rent per month in CHF is:&quot;</span>)</span>
<span id="cb5-32"><a href="#cb5-32"></a>  rent_summary &lt;-<span class="st"> </span><span class="kw">c</span>(act_rent_CHF, total_add_rent_monthly_CHF, total_new_rent_monthly_CHF)</span>
<span id="cb5-33"><a href="#cb5-33"></a>  rent_summary &lt;-<span class="st"> </span><span class="kw">round</span>(rent_summary<span class="op">/</span><span class="dv">5</span>, <span class="dt">digits =</span> <span class="dv">2</span>)<span class="op">*</span><span class="dv">5</span>   <span class="co"># round to 5 cts.</span></span>
<span id="cb5-34"><a href="#cb5-34"></a>  rent_result &lt;-<span class="st"> </span><span class="kw">as.table</span>(<span class="kw">cbind</span>(rent_answers, rent_summary))</span>
<span id="cb5-35"><a href="#cb5-35"></a>  <span class="kw">print</span>(<span class="st">&quot;*******************************************************************************&quot;</span>)</span>
<span id="cb5-36"><a href="#cb5-36"></a></span>
<span id="cb5-37"><a href="#cb5-37"></a>  <span class="co"># return the results in a dataframe</span></span>
<span id="cb5-38"><a href="#cb5-38"></a>  return_invest &lt;-<span class="st"> </span><span class="kw">as.table</span>(<span class="kw">c</span>(value_incr_share_CHF, depreciation_CHF,interest_CHF, maintenance_CHF,</span>
<span id="cb5-39"><a href="#cb5-39"></a>                              total_add_rent_monthly_CHF, total_new_rent_monthly_CHF))</span>
<span id="cb5-40"><a href="#cb5-40"></a>  return_invest &lt;-<span class="st"> </span><span class="kw">round</span>(return_invest<span class="op">/</span><span class="dv">5</span>, <span class="dt">digits =</span> <span class="dv">2</span>)<span class="op">*</span><span class="dv">5</span>   <span class="co"># round to 5 cts.</span></span>
<span id="cb5-41"><a href="#cb5-41"></a>  return_invest &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(return_invest)</span>
<span id="cb5-42"><a href="#cb5-42"></a>  <span class="kw">colnames</span> (return_invest) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;value&quot;</span>)</span>
<span id="cb5-43"><a href="#cb5-43"></a>  row3 &lt;-<span class="st"> </span><span class="kw">as.vector</span>(return_invest<span class="op">$</span>name)</span>
<span id="cb5-44"><a href="#cb5-44"></a>  CHF &lt;-<span class="st"> </span><span class="kw">as.vector</span>(return_invest<span class="op">$</span>value)</span>
<span id="cb5-45"><a href="#cb5-45"></a>  return_invest &lt;-<span class="st"> </span><span class="kw">rbind</span>(CHF)</span>
<span id="cb5-46"><a href="#cb5-46"></a>  <span class="kw">colnames</span>(return_invest) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;value_incr_share_CHF&quot;</span>, <span class="st">&quot;depreciation_CHF&quot;</span>,<span class="st">&quot;interest_CHF&quot;</span>, <span class="st">&quot;maintenance_CHF&quot;</span>,</span>
<span id="cb5-47"><a href="#cb5-47"></a>                               <span class="st">&quot;total_add_rent_monthly_CHF&quot;</span>, <span class="st">&quot;total_new_rent_monthly_CHF&quot;</span>)</span>
<span id="cb5-48"><a href="#cb5-48"></a>  <span class="kw">print</span>(return_invest)</span>
<span id="cb5-49"><a href="#cb5-49"></a>}</span></code></pre></div>
</div>
</div>
<div id="examples-to-part-b" class="section level3">
<h3>Examples to PART B</h3>
<div id="example-for-standard-use" class="section level4">
<h4>EXAMPLE for standard use</h4>
<p>You put in the needed data of your actual rent and of the investment into the calculator. If you don’t give a value for the maintenance rate, the calculator uses 10 % by default.</p>
<p>
<p>To test it for a actual rent of 1000 CHF, an investment of 100000 CHF, a value increasing share of 50 % and a lifespan of 12 years:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">RentInvestCalculatoR</span>(<span class="dv">1000</span>,<span class="dv">100000</span>,<span class="dv">50</span>,<span class="dv">12</span>)</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co">#&gt;   actual_answers                                          actual_data</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">#&gt; A The actual mortgage rate in % is:                       1.25       </span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">#&gt; B The actual date is:                                     2020-06-12 </span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3      </span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co">#&gt; [1] &quot;*******************************************************************************&quot;</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co">#&gt;     value_incr_share_CHF depreciation_CHF interest_CHF maintenance_CHF</span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co">#&gt; CHF                50000          4166.65        437.5           460.4</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co">#&gt;     total_add_rent_monthly_CHF total_new_rent_monthly_CHF</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co">#&gt; CHF                     422.05                    1422.05</span></span></code></pre></div>
</div>
</div>
<div id="example-with-a-quasi-zero-value-for-actual_rent-e.g.-for-calculating-initial-rents-of-new-buildings" class="section level3">
<h3>EXAMPLE with a quasi zero value for actual_rent (e.g. for calculating initial rents of new buildings)</h3>
<p>The starting values of the actual rent basically can’t be zero. If you would like to calculate the initial rent for a new building, you have to set the actual rent to a very small value. Of course you can also use it, if you buy an apartment and you want to know how much rent you should get out of it. The calculator gives you here an approximation, because you have to set an average lifespan over all components of the building (see also EXAMPLE with different components for more precise calculations).</p>
<p>
<p>To test it for a new building let’s say we would like to calculate the rent for a unit (apartment). The unit is valid an investment of 500000 CHF, the value increasing share is 100 % because there was no value before, the average lifespan will be 50 years and the maintenance is set to 8 % because in the in the first years you still have guarantee and would not spend as much on maintenance.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">RentInvestCalculatoR</span>(<span class="fl">0.000001</span>,<span class="dv">500000</span>,<span class="dv">100</span>,<span class="dv">50</span>,<span class="dv">8</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co">#&gt;   actual_answers                                          actual_data</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co">#&gt; A The actual mortgage rate in % is:                       1.25       </span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co">#&gt; B The actual date is:                                     2020-06-12 </span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="co">#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3      </span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co">#&gt; [1] &quot;*******************************************************************************&quot;</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">#&gt;     value_incr_share_CHF depreciation_CHF interest_CHF maintenance_CHF</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co">#&gt; CHF                5e+05            10000         4375            1150</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co">#&gt;     total_add_rent_monthly_CHF total_new_rent_monthly_CHF</span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="co">#&gt; CHF                    1293.75                    1293.75</span></span></code></pre></div>
</div>
<div id="example-with-different-components" class="section level3">
<h3>EXAMPLE with different components</h3>
If you would like to do the calculation for different components, you can use the calculator of course different times and add the values up. You can look up different lifespans of components on <a href="https://www.mietrecht.ch/index.php?id=32" class="uri">https://www.mietrecht.ch/index.php?id=32</a> (unfortunately only available in German language). Let’s say you have after a total renovation (including energetic and ecological) for example following investments with different lifespans an maintenance efforts and you would like to know the sum of over all changes due to this investments:
<table>
<tr>
<td>
investment_name
</td>
<td>
act_rent_CHF
</td>
<td>
investment_CHF
</td>
<td>
increasing_share
</td>
<td>
lifespan
</td>
<td>
maintenance_rate
</td>
</tr>
<tr>
<td>
structure of building
</td>
<td>
0.001
</td>
<td>
250000
</td>
<td>
100 %
</td>
<td>
100 years
</td>
<td>
10%
</td>
</tr>
<tr>
<td>
windows
</td>
<td>
0.001
</td>
<td>
40000
</td>
<td>
100 %
</td>
<td>
20 years
</td>
<td>
10 %
</td>
</tr>
<tr>
<td>
kitchen
</td>
<td>
0.001
</td>
<td>
30000
</td>
<td>
70 %
</td>
<td>
15 year
</td>
<td>
8 %
</td>
</tr>
<tr>
<td>
bathroom
</td>
<td>
0.001
</td>
<td>
50000
</td>
<td>
70 %
</td>
<td>
30 years
</td>
<td>
8 %
</td>
</tr>
<tr>
<td>
floors
</td>
<td>
0.001
</td>
<td>
25000
</td>
<td>
50 %
</td>
<td>
12 years
</td>
<td>
8 %
</td>
</tr>
</table>
<p>
<p>Now you can see only the result of the single functions and also the variable in your “Data” window.</p>
<pre><code>#&gt;   actual_answers                                          actual_data
#&gt; A The actual mortgage rate in % is:                       1.25       
#&gt; B The actual date is:                                     2020-06-12 
#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3      
#&gt; [1] &quot;*******************************************************************************&quot;
#&gt;     value_incr_share_CHF depreciation_CHF interest_CHF maintenance_CHF
#&gt; CHF               250000             2500       2187.5          468.75
#&gt;     total_add_rent_monthly_CHF total_new_rent_monthly_CHF
#&gt; CHF                      429.7                      429.7
#&gt;   actual_answers                                          actual_data
#&gt; A The actual mortgage rate in % is:                       1.25       
#&gt; B The actual date is:                                     2020-06-12 
#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3      
#&gt; [1] &quot;*******************************************************************************&quot;
#&gt;     value_incr_share_CHF depreciation_CHF interest_CHF maintenance_CHF
#&gt; CHF                40000             2000          350             188
#&gt;     total_add_rent_monthly_CHF total_new_rent_monthly_CHF
#&gt; CHF                      211.5                      211.5
#&gt;   actual_answers                                          actual_data
#&gt; A The actual mortgage rate in % is:                       1.25       
#&gt; B The actual date is:                                     2020-06-12 
#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3      
#&gt; [1] &quot;*******************************************************************************&quot;
#&gt;     value_incr_share_CHF depreciation_CHF interest_CHF maintenance_CHF
#&gt; CHF                21000             1400       183.75           126.7
#&gt;     total_add_rent_monthly_CHF total_new_rent_monthly_CHF
#&gt; CHF                     142.55                     142.55
#&gt;   actual_answers                                          actual_data
#&gt; A The actual mortgage rate in % is:                       1.25       
#&gt; B The actual date is:                                     2020-06-12 
#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3      
#&gt; [1] &quot;*******************************************************************************&quot;
#&gt;     value_incr_share_CHF depreciation_CHF interest_CHF maintenance_CHF
#&gt; CHF                35000          1166.65       306.25          117.85
#&gt;     total_add_rent_monthly_CHF total_new_rent_monthly_CHF
#&gt; CHF                     132.55                     132.55
#&gt;   actual_answers                                          actual_data
#&gt; A The actual mortgage rate in % is:                       1.25       
#&gt; B The actual date is:                                     2020-06-12 
#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3      
#&gt; [1] &quot;*******************************************************************************&quot;
#&gt;     value_incr_share_CHF depreciation_CHF interest_CHF maintenance_CHF
#&gt; CHF                12500          1041.65        109.4               0
#&gt;     total_add_rent_monthly_CHF total_new_rent_monthly_CHF
#&gt; CHF                       95.9                       95.9</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># And then to sum up all changes and give an answer</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>total_invest &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">rbind</span>(building,windows, kitchen, bathroom, floors))</span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="kw">cat</span>(<span class="st">&quot;The Total change in rent per month due to all investments is&quot;</span>, <span class="kw">sum</span>(total_invest<span class="op">$</span>total_add_rent_monthly_CHF))</span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">#&gt; The Total change in rent per month due to all investments is 1012.2</span></span></code></pre></div>
<p>It is possible to see the results in the data frame called total_invest.</p>
</div>
</div>
<div id="part-c-changing-in-rents-due-to-new-circumstances-in-the-market" class="section level2">
<h2>PART C: CHANGING IN RENTS DUE TO NEW CIRCUMSTANCES IN THE MARKET</h2>
<p>Rents can change due to different new circumstances in the market. Therefore we are using a function for each: Change in inflation rate (C.1), change in mortgage (C.2) and cost increase (C.3). All different changes together are calculated with the RentCalculatorNewCircum like in (C.4).</p>
<div id="part-c.1-change-in-inflation-rate" class="section level3">
<h3>PART C.1: CHANGE IN INFLATION RATE:</h3>
<div id="explanation-behind-2" class="section level4">
<h4>Explanation behind</h4>
<p>The law allows you to calculate 40 % of the inflation rate into the rent price (article 16 VMWG, Tenancy Law Regulation). The inflation rate includes a certain concept of the national consumer price index (LIK). It measures the price development of goods and services that are important for private households. It indicates the extent to which consumers have to increase or decrease spending when prices change in order to keep consumption volume constant (<a href="https://www.bfs.admin.ch/bfs/it/home/statistiche/prezzi/rilevazioni/lik/ipc.html" class="uri">https://www.bfs.admin.ch/bfs/it/home/statistiche/prezzi/rilevazioni/lik/ipc.html</a>).The Tenancy law tells to use this index, which also include rents, to calculate the changes in rents. Therefore we use the inflation index tables from the Department of Statistics (xlsx download, <a href="https://www.bfs.admin.ch/bfsstatic/dam/assets/12827290/master" class="uri">https://www.bfs.admin.ch/bfsstatic/dam/assets/12827290/master</a>) like we already described in PART A. The RentInformations function of Part A already gives us the actual inflation rate. Therefore we need to know of the user the last data of the inflation rate adjustment (inflation_rate_last_date).</p>
</div>
<div id="informations-that-user-needs-to-put-into-the-function" class="section level4">
<h4>Informations that user needs to put into the function</h4>
To calculate the changes due to inflation we need from the user:
<p>
<ul>
<li>actual net rent (act_rent_CHF)
<ul>
<li>the date, when the inflation rate was the last time adjusted (inflation_rate_last_date)</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>inf_rate_change &lt;-<span class="st"> </span><span class="cf">function</span>(act_rent_CHF, inflation_rate_last_date) {</span>
<span id="cb10-2"><a href="#cb10-2"></a></span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="co"># calling the results of the RentInformations function (PART A.3) and take the actual inflation rate</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>  act_data &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">RentInformations</span>( ))</span>
<span id="cb10-5"><a href="#cb10-5"></a>  act_inflation &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(act_data<span class="op">$</span>act_inflation)</span>
<span id="cb10-6"><a href="#cb10-6"></a>  </span>
<span id="cb10-7"><a href="#cb10-7"></a>  <span class="co"># calling the results of the inflation_rates function (PART A.2) and take the last inflation rate</span></span>
<span id="cb10-8"><a href="#cb10-8"></a>  infl_data &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">inflation_rates</span>())</span>
<span id="cb10-9"><a href="#cb10-9"></a>  reference_last_date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(inflation_rate_last_date)</span>
<span id="cb10-10"><a href="#cb10-10"></a>  reference_last_year &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(<span class="kw">format</span>(reference_last_date, <span class="st">&quot;%Y&quot;</span>))</span>
<span id="cb10-11"><a href="#cb10-11"></a>  reference_last_month &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(<span class="kw">format</span>(reference_last_date, <span class="st">&quot;%m&quot;</span>))</span>
<span id="cb10-12"><a href="#cb10-12"></a></span>
<span id="cb10-13"><a href="#cb10-13"></a>  inflation_rate_last &lt;-<span class="st"> </span><span class="kw">subset</span>(infl_data, infl_data<span class="op">$</span>year <span class="op">==</span><span class="st"> </span>reference_last_year)</span>
<span id="cb10-14"><a href="#cb10-14"></a>  <span class="kw">colnames</span>(inflation_rate_last) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;year&quot;</span>,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>))</span>
<span id="cb10-15"><a href="#cb10-15"></a>  last_inflation &lt;-<span class="st"> </span>inflation_rate_last[,reference_last_month<span class="op">+</span><span class="dv">1</span>]</span>
<span id="cb10-16"><a href="#cb10-16"></a></span>
<span id="cb10-17"><a href="#cb10-17"></a>  <span class="co"># it&#39;s allowed to calculate 40 % of the difference into the rent</span></span>
<span id="cb10-18"><a href="#cb10-18"></a>  inflation_difference &lt;-<span class="st"> </span>act_inflation <span class="op">-</span><span class="st"> </span>last_inflation</span>
<span id="cb10-19"><a href="#cb10-19"></a>  </span>
<span id="cb10-20"><a href="#cb10-20"></a>  allowed_inflation_rate &lt;-<span class="st"> </span><span class="fl">0.4</span><span class="op">*</span>inflation_difference</span>
<span id="cb10-21"><a href="#cb10-21"></a></span>
<span id="cb10-22"><a href="#cb10-22"></a></span>
<span id="cb10-23"><a href="#cb10-23"></a>  <span class="co"># PRINT RESULTS</span></span>
<span id="cb10-24"><a href="#cb10-24"></a>  <span class="co">#############################</span></span>
<span id="cb10-25"><a href="#cb10-25"></a>  </span>
<span id="cb10-26"><a href="#cb10-26"></a>  <span class="co"># total rent results and report</span></span>
<span id="cb10-27"><a href="#cb10-27"></a>  total_add_rent_monthly_CHF &lt;-<span class="st"> </span>act_rent_CHF<span class="op">*</span>allowed_inflation_rate<span class="op">/</span><span class="dv">100</span></span>
<span id="cb10-28"><a href="#cb10-28"></a>  total_new_rent_monthly_CHF &lt;-<span class="st"> </span>act_rent_CHF <span class="op">+</span><span class="st"> </span>total_add_rent_monthly_CHF</span>
<span id="cb10-29"><a href="#cb10-29"></a>  rent_answers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Your actual rent per month in CHF is:&quot;</span>, <span class="st">&quot;The additional rent per month in CHF is:&quot;</span>,</span>
<span id="cb10-30"><a href="#cb10-30"></a>                    <span class="st">&quot;And the new total rent per month in CHF is:&quot;</span>)</span>
<span id="cb10-31"><a href="#cb10-31"></a>  rent_summary &lt;-<span class="st"> </span><span class="kw">c</span>(act_rent_CHF, total_add_rent_monthly_CHF, total_new_rent_monthly_CHF)</span>
<span id="cb10-32"><a href="#cb10-32"></a>  rent_summary &lt;-<span class="st"> </span><span class="kw">round</span>(rent_summary<span class="op">/</span><span class="dv">5</span>, <span class="dt">digits =</span> <span class="dv">2</span>)<span class="op">*</span><span class="dv">5</span>   <span class="co"># round to 5 cts.</span></span>
<span id="cb10-33"><a href="#cb10-33"></a>  rent_result &lt;-<span class="st"> </span><span class="kw">as.table</span>(<span class="kw">cbind</span>(rent_answers, rent_summary))</span>
<span id="cb10-34"><a href="#cb10-34"></a>  <span class="kw">list</span>(rent_result, <span class="kw">c</span>(<span class="st">&quot;due to 40 % of the change in inflation (in %):&quot;</span>, allowed_inflation_rate))</span>
<span id="cb10-35"><a href="#cb10-35"></a>}</span></code></pre></div>
</div>
<div id="examples-to-part-c.1-inflation-rates" class="section level4">
<h4>Examples to PART C.1 Inflation rates</h4>
<p>If you like to know the change in your rent due to inflation. You need to add the actual rent in CHF (act_rent_CHF) and the date of the last adjustment due to inflation as date in the format “Years-month-day” (inflation_rate_last_date).</p>
<p>The function returns you a summary of your actual rent in CHF (act_rent_CHF), the added monthly rent in CHF due to inflation (total_add_rent_monthly_CHF) and the total new monthly rent in CHF (total_new_rent_monthly_CHF). It gives you also the allowed inflation rate due to the 40 % allowed change (allowed_inflation_rate).</p>
<p>To know what your actual rent of CHF 1000 changes, when last updated on 1.6.2019 you type:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw">inf_rate_change</span>(<span class="dv">1000</span>, <span class="st">&quot;2019-06-01&quot;</span>)</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co">#&gt;   actual_answers                                          actual_data</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co">#&gt; A The actual mortgage rate in % is:                       1.25       </span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">#&gt; B The actual date is:                                     2020-06-12 </span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co">#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3</span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="co">#&gt;   rent_answers                                rent_summary</span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="co">#&gt; A Your actual rent per month in CHF is:       1000        </span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="co">#&gt; B The additional rent per month in CHF is:    -5.6        </span></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="co">#&gt; C And the new total rent per month in CHF is: 994.4       </span></span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="co">#&gt; </span></span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="co">#&gt; [1] &quot;due to 40 % of the change in inflation (in %):&quot;</span></span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="co">#&gt; [2] &quot;-0.560000000000002&quot;</span></span></code></pre></div>
</div>
</div>
<div id="part-c.2-change-in-mortgage" class="section level3">
<h3>PART C.2: CHANGE IN MORTGAGE</h3>
<div id="explanation-behind-3" class="section level4">
<h4>Explanation behind</h4>
<p>The law allows you to calculate the amount of rent new, if there is a change in the mortgage rent (article 12a and 13 VMWG, Tenancy Law Regulation). Therefore you have to know the mortgage rates, which are calculated and published by the Department of Housing (<a href="https://www.bwo.admin.ch/bwo/de/home/mietrecht/referenzzinssatz/entwicklung-referenzzinssatz-und-durchschnittszinssatz.html" class="uri">https://www.bwo.admin.ch/bwo/de/home/mietrecht/referenzzinssatz/entwicklung-referenzzinssatz-und-durchschnittszinssatz.html</a>).</p>
<p>To calculate the change you have to know the actual mortgage, which we are elaborating in A.1. Then you need to know the last date, when the mortgage rate was updated on your rent (reference_last_date).</p>
<p>Because the changing have different levels by art. 13 VMWG and also by changing to the positive or negative, the code is a bit more complex. We explain more of the details inside the commented code.</p>
</div>
<div id="informations-that-the-user-has-to-put-into-the-function" class="section level4">
<h4>Informations that the user has to put into the function</h4>
<p>To calculate the changes due to inflation rate we need from the user:</p>
<p>
<ul>
<li>actual net rent (act_rent_CHF)
<ul>
<li>the date, when the mortgage rate was adjusted the last time (reference_last_date)</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>mortgage_rate_change &lt;-<span class="st"> </span><span class="cf">function</span>(act_rent_CHF, reference_last_date){</span>
<span id="cb12-2"><a href="#cb12-2"></a></span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="co"># calling the results of the RentInformations function (PART A.3) and take the actual mortgage rate</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>  act_data &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">RentInformations</span>( ))</span>
<span id="cb12-5"><a href="#cb12-5"></a>  act_mortgage &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(act_data<span class="op">$</span>act_mortgage)</span>
<span id="cb12-6"><a href="#cb12-6"></a></span>
<span id="cb12-7"><a href="#cb12-7"></a>  <span class="co"># calling the results of the mortgage_rage function (PART A.1) and take the one of the last adjustment date</span></span>
<span id="cb12-8"><a href="#cb12-8"></a>  mortgage_data &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">mortgage_rates</span>())</span>
<span id="cb12-9"><a href="#cb12-9"></a>  last_mortgage &lt;-<span class="st"> </span><span class="kw">subset</span>(mortgage_data, mortgage_data<span class="op">$</span>valuable_from <span class="op">&lt;=</span><span class="st"> </span>reference_last_date)</span>
<span id="cb12-10"><a href="#cb12-10"></a>  last_mortgage &lt;-<span class="st"> </span>last_mortgage[<span class="dv">1</span>,<span class="dv">1</span>]</span>
<span id="cb12-11"><a href="#cb12-11"></a></span>
<span id="cb12-12"><a href="#cb12-12"></a>  <span class="co">#_Explanation behind _____________________________________________________________________________</span></span>
<span id="cb12-13"><a href="#cb12-13"></a>  <span class="co">##################################################################################################</span></span>
<span id="cb12-14"><a href="#cb12-14"></a>  <span class="co"># For the change in mortgage reference rate we have to differ between positive and negative changes</span></span>
<span id="cb12-15"><a href="#cb12-15"></a>  <span class="co">##################################################################################################</span></span>
<span id="cb12-16"><a href="#cb12-16"></a></span>
<span id="cb12-17"><a href="#cb12-17"></a>  <span class="co"># The calculation works like described in art. 13 VMWG. This means the changing per 1/4 % in mortgage rate</span></span>
<span id="cb12-18"><a href="#cb12-18"></a>  <span class="co"># leads to a change in rent between 2 - 3 %.</span></span>
<span id="cb12-19"><a href="#cb12-19"></a>  <span class="co"># - If the mortgage rate is above 6 %:           2 % per 1/4 % change</span></span>
<span id="cb12-20"><a href="#cb12-20"></a>  <span class="co"># - If the mortgage rate is between 5 and 6 %: 2.5 % per 1/4 % change</span></span>
<span id="cb12-21"><a href="#cb12-21"></a>  <span class="co"># - If the mortgage rate is below 5 %:            3 % per 1/4 % change</span></span>
<span id="cb12-22"><a href="#cb12-22"></a></span>
<span id="cb12-23"><a href="#cb12-23"></a>  <span class="co"># The calculation works like described in art. 13 VMWG, but vice versa for a negative change.</span></span>
<span id="cb12-24"><a href="#cb12-24"></a>  <span class="co"># This means the changing per 1/4 % in mortgage rate leads to a change in rent between 1.96 - 2.91 %.</span></span>
<span id="cb12-25"><a href="#cb12-25"></a>  <span class="co"># - If the mortgage rate is above 6 %:           1.96 % per 1/4 % change   (out of 2/102) = 1.96)</span></span>
<span id="cb12-26"><a href="#cb12-26"></a>  <span class="co"># - If the mortgage rate is between 5 and 6 %:   2.44 % per 1/4 % change (out of 2.5/102.5 = 2.44)</span></span>
<span id="cb12-27"><a href="#cb12-27"></a>  <span class="co"># - If the mortgage rate is below 5 %:            2.91 % per 1/4 % change (out of 3/103 = 2.91)</span></span>
<span id="cb12-28"><a href="#cb12-28"></a></span>
<span id="cb12-29"><a href="#cb12-29"></a></span>
<span id="cb12-30"><a href="#cb12-30"></a>  <span class="co"># C.2a mortgage help factors</span></span>
<span id="cb12-31"><a href="#cb12-31"></a>  <span class="co">##################################################################################################</span></span>
<span id="cb12-32"><a href="#cb12-32"></a></span>
<span id="cb12-33"><a href="#cb12-33"></a>  <span class="co"># Difference in mortgage per 1/4 %</span></span>
<span id="cb12-34"><a href="#cb12-34"></a>  mortgage_change_factor &lt;-<span class="st"> </span><span class="kw">abs</span>((act_mortgage <span class="op">-</span><span class="st"> </span>last_mortgage)<span class="op">/</span>.<span class="dv">25</span>)</span>
<span id="cb12-35"><a href="#cb12-35"></a></span>
<span id="cb12-36"><a href="#cb12-36"></a>  <span class="cf">if</span> (act_mortgage <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span>) {</span>
<span id="cb12-37"><a href="#cb12-37"></a>    mortgage_rate_factor &lt;-<span class="st"> </span><span class="dv">3</span><span class="op">*</span>mortgage_change_factor</span>
<span id="cb12-38"><a href="#cb12-38"></a>  } <span class="cf">else</span> <span class="cf">if</span> (act_mortgage <span class="op">&gt;</span><span class="st"> </span><span class="dv">6</span>) {</span>
<span id="cb12-39"><a href="#cb12-39"></a>    mortgage_rate_factor &lt;-<span class="st"> </span><span class="dv">2</span><span class="op">*</span>mortgage_change_factor</span>
<span id="cb12-40"><a href="#cb12-40"></a>  } <span class="cf">else</span> {</span>
<span id="cb12-41"><a href="#cb12-41"></a>    mortgage_rate_factor &lt;-<span class="st"> </span><span class="fl">2.5</span><span class="op">*</span>mortgage_change_factor</span>
<span id="cb12-42"><a href="#cb12-42"></a>  }</span>
<span id="cb12-43"><a href="#cb12-43"></a></span>
<span id="cb12-44"><a href="#cb12-44"></a>  <span class="co"># The mortgage_factor (change per 1/4 %) is positive if the actual mortgage is higher than the last</span></span>
<span id="cb12-45"><a href="#cb12-45"></a></span>
<span id="cb12-46"><a href="#cb12-46"></a>  <span class="cf">if</span> (act_mortgage <span class="op">&gt;</span><span class="st"> </span>last_mortgage) {</span>
<span id="cb12-47"><a href="#cb12-47"></a>    <span class="co"># Difference in mortgage (positive)</span></span>
<span id="cb12-48"><a href="#cb12-48"></a>    mortgage_change_rate_factor &lt;-<span class="st"> </span>(mortgage_rate_factor<span class="op">+</span><span class="dv">100</span>)<span class="op">/</span><span class="dv">100</span></span>
<span id="cb12-49"><a href="#cb12-49"></a>    mortgage_change_CHF_monthly &lt;-<span class="st"> </span>mortgage_change_rate_factor <span class="op">*</span><span class="st"> </span>act_rent_CHF <span class="op">-</span><span class="st"> </span>act_rent_CHF</span>
<span id="cb12-50"><a href="#cb12-50"></a></span>
<span id="cb12-51"><a href="#cb12-51"></a>    <span class="co"># The mortgage_factor (change per 1/4 %) is negative if the actual mortgage is smaller than the last</span></span>
<span id="cb12-52"><a href="#cb12-52"></a>  } <span class="cf">else</span> <span class="cf">if</span> (act_mortgage <span class="op">&lt;</span><span class="st"> </span>last_mortgage) {</span>
<span id="cb12-53"><a href="#cb12-53"></a>    <span class="co"># Difference in mortgage (negative)</span></span>
<span id="cb12-54"><a href="#cb12-54"></a>    mortgage_change_rate_factor &lt;-<span class="st"> </span><span class="dv">1</span> <span class="op">-</span><span class="st"> </span>(mortgage_rate_factor <span class="op">/</span><span class="st"> </span>(<span class="dv">100</span><span class="op">+</span>mortgage_rate_factor))</span>
<span id="cb12-55"><a href="#cb12-55"></a>    mortgage_change_CHF_monthly &lt;-<span class="st"> </span>mortgage_change_rate_factor <span class="op">*</span><span class="st"> </span>act_rent_CHF <span class="op">-</span><span class="st"> </span>act_rent_CHF</span>
<span id="cb12-56"><a href="#cb12-56"></a></span>
<span id="cb12-57"><a href="#cb12-57"></a>    <span class="co"># If there is no mortgage_factor (no change per 1/4 %)</span></span>
<span id="cb12-58"><a href="#cb12-58"></a>  } <span class="cf">else</span> <span class="cf">if</span> (act_mortgage <span class="op">==</span><span class="st"> </span>last_mortgage) {</span>
<span id="cb12-59"><a href="#cb12-59"></a>    mortgage_change_CHF_monthly &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb12-60"><a href="#cb12-60"></a></span>
<span id="cb12-61"><a href="#cb12-61"></a>    <span class="co"># And if the last_reference is not given</span></span>
<span id="cb12-62"><a href="#cb12-62"></a>  } <span class="cf">else</span> {</span>
<span id="cb12-63"><a href="#cb12-63"></a>    <span class="kw">print</span>(<span class="st">&quot;There is no valid change in mortgage due to a missing last reference date.</span></span>
<span id="cb12-64"><a href="#cb12-64"></a><span class="st">            Try for example with the last adjustment date of inflation.&quot;</span>)</span>
<span id="cb12-65"><a href="#cb12-65"></a>  }</span>
<span id="cb12-66"><a href="#cb12-66"></a></span>
<span id="cb12-67"><a href="#cb12-67"></a>  mortgage_change &lt;-<span class="st"> </span>act_mortgage <span class="op">-</span><span class="st"> </span>last_mortgage</span>
<span id="cb12-68"><a href="#cb12-68"></a></span>
<span id="cb12-69"><a href="#cb12-69"></a>  <span class="co"># PRINT RESULTS</span></span>
<span id="cb12-70"><a href="#cb12-70"></a>  <span class="co">#############################</span></span>
<span id="cb12-71"><a href="#cb12-71"></a></span>
<span id="cb12-72"><a href="#cb12-72"></a>  <span class="co"># total rent results and report</span></span>
<span id="cb12-73"><a href="#cb12-73"></a>  total_add_rent_monthly_CHF &lt;-<span class="st"> </span>mortgage_change_CHF_monthly</span>
<span id="cb12-74"><a href="#cb12-74"></a>  total_new_rent_monthly_CHF &lt;-<span class="st"> </span>act_rent_CHF <span class="op">+</span><span class="st"> </span>total_add_rent_monthly_CHF</span>
<span id="cb12-75"><a href="#cb12-75"></a>  rent_answers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Your actual rent per month in CHF is:&quot;</span>, <span class="st">&quot;The change in rent per month in CHF is:&quot;</span>,</span>
<span id="cb12-76"><a href="#cb12-76"></a>                    <span class="st">&quot;And the new total rent per month in CHF is:&quot;</span>)</span>
<span id="cb12-77"><a href="#cb12-77"></a>  rent_summary &lt;-<span class="st"> </span><span class="kw">c</span>(act_rent_CHF, total_add_rent_monthly_CHF, total_new_rent_monthly_CHF)</span>
<span id="cb12-78"><a href="#cb12-78"></a>  rent_summary &lt;-<span class="st"> </span><span class="kw">round</span>(rent_summary<span class="op">/</span><span class="dv">5</span>, <span class="dt">digits =</span> <span class="dv">2</span>)<span class="op">*</span><span class="dv">5</span>   <span class="co"># round to 5 cts.</span></span>
<span id="cb12-79"><a href="#cb12-79"></a>  rent_result &lt;-<span class="st"> </span><span class="kw">as.table</span>(<span class="kw">cbind</span>(rent_answers, rent_summary))</span>
<span id="cb12-80"><a href="#cb12-80"></a>  <span class="kw">list</span>(rent_result, <span class="kw">c</span>(<span class="st">&quot;due to a procentual change in mortgage (in %):&quot;</span>, mortgage_change))</span>
<span id="cb12-81"><a href="#cb12-81"></a></span>
<span id="cb12-82"><a href="#cb12-82"></a></span>
<span id="cb12-83"><a href="#cb12-83"></a>}</span></code></pre></div>
</div>
<div id="examples-to-part-c.2-mortgage-change" class="section level4">
<h4>Examples to PART C.2: Mortgage change</h4>
<p>If you like to know the change in your rent due to a change in mortgage. You need to add the actual rent in CHF (act_rent_CHF) and the date of the last adjustment due to mortgage as date in the format “Years-month-day” (inflation_rate_last_date).</p>
<p>The function returns you a summary of your actual rent in CHF (act_rent_CHF), the added monthly rent in CHF due to mortgage change (total_add_rent_monthly_CHF) and the total new monthly rent in CHF (total_new_rent_monthly_CHF). It gives you also the percentage of the change in mortgage in % (mortgage_change).</p>
<p>To know what your actual rent of CHF 1000 changes, when last updated on 3.9.2013 you type:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw">mortgage_rate_change</span>(<span class="dv">1000</span>, <span class="st">&quot;2013-09-03&quot;</span>)</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="co">#&gt;   actual_answers                                          actual_data</span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="co">#&gt; A The actual mortgage rate in % is:                       1.25       </span></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="co">#&gt; B The actual date is:                                     2020-06-12 </span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="co">#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3</span></span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="co">#&gt;   rent_answers                                rent_summary</span></span>
<span id="cb13-8"><a href="#cb13-8"></a><span class="co">#&gt; A Your actual rent per month in CHF is:       1000        </span></span>
<span id="cb13-9"><a href="#cb13-9"></a><span class="co">#&gt; B The change in rent per month in CHF is:     -82.55      </span></span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="co">#&gt; C And the new total rent per month in CHF is: 917.45      </span></span>
<span id="cb13-11"><a href="#cb13-11"></a><span class="co">#&gt; </span></span>
<span id="cb13-12"><a href="#cb13-12"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb13-13"><a href="#cb13-13"></a><span class="co">#&gt; [1] &quot;due to a procentual change in mortgage (in %):&quot;</span></span>
<span id="cb13-14"><a href="#cb13-14"></a><span class="co">#&gt; [2] &quot;-0.75&quot;</span></span></code></pre></div>
</div>
</div>
<div id="part-c.3-change-due-to-cost-increase" class="section level3">
<h3>PART C.3: CHANGE DUE TO COST INCREASE</h3>
<div id="explanation-behind-4" class="section level4">
<h4>Explanation behind</h4>
<p>The good practice allows you to add the changes due to cost increase up to 1 % per year. The calculator needs the actual rent in CHF (act_rent_CHF) and the date of the last adjustment of the rent due to cost increase (cost_incr_last_date). The function uses whole months to calculate the difference. So if you don’t know exactly the day of the last adjustment, it doesn’t matter. Additionally you can also declare which rate between 0 and 1 % you like to use (flat_rate). By default its set to 0.5 %.</p>
</div>
</div>
<div id="informations-that-the-user-has-to-put-into-the-function-1" class="section level3">
<h3>Informations that the user has to put into the function</h3>
<p>To calculate the changes due to cost increase the function needs from the user:</p>
<p>
<ul>
<li>actual net rent (act_rent_CHF)
<ul>
<li>the date, when the cost increasing was adjusted the last time (cost_incr_last_date)</li>
<li>the used flat rate between 0 and 1 % (flat_rate) by default it is 0.5 %</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>cost_incr_change &lt;-<span class="st"> </span><span class="cf">function</span>(act_rent_CHF, cost_incr_last_date, <span class="dt">flat_rate =</span> <span class="fl">0.5</span>){</span>
<span id="cb14-2"><a href="#cb14-2"></a></span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="co"># calling the results of the RentInformations function (PART A.3) and take the actual date</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>  act_data &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">RentInformations</span>( ))</span>
<span id="cb14-5"><a href="#cb14-5"></a>  act_date &lt;-<span class="st"> </span>act_data<span class="op">$</span>act_date</span>
<span id="cb14-6"><a href="#cb14-6"></a></span>
<span id="cb14-7"><a href="#cb14-7"></a>  <span class="co"># difference between the actual date and the cost_incr_last_date</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>  cost_diff_rate &lt;-<span class="st"> </span>(<span class="kw">as.yearmon</span>(<span class="kw">strptime</span>(act_date, <span class="dt">format =</span> <span class="st">&quot;%Y-%m-%d&quot;</span>))<span class="op">-</span></span>
<span id="cb14-9"><a href="#cb14-9"></a><span class="st">                       </span><span class="kw">as.yearmon</span>(<span class="kw">strptime</span>(cost_incr_last_date, <span class="dt">format =</span> <span class="st">&quot;%Y-%m-%d&quot;</span>)))</span>
<span id="cb14-10"><a href="#cb14-10"></a></span>
<span id="cb14-11"><a href="#cb14-11"></a>  <span class="co"># with the flat_rate this leads to a change in rent of</span></span>
<span id="cb14-12"><a href="#cb14-12"></a>  cost_difference_CHF &lt;-<span class="st"> </span>act_rent_CHF <span class="op">*</span><span class="st"> </span>cost_diff_rate <span class="op">/</span><span class="dv">100</span> <span class="op">*</span>flat_rate</span>
<span id="cb14-13"><a href="#cb14-13"></a></span>
<span id="cb14-14"><a href="#cb14-14"></a></span>
<span id="cb14-15"><a href="#cb14-15"></a>  <span class="co"># PRINT RESULTS</span></span>
<span id="cb14-16"><a href="#cb14-16"></a>  <span class="co">#############################</span></span>
<span id="cb14-17"><a href="#cb14-17"></a></span>
<span id="cb14-18"><a href="#cb14-18"></a>  <span class="co"># total rent results and report</span></span>
<span id="cb14-19"><a href="#cb14-19"></a>  total_add_rent_monthly_CHF &lt;-<span class="st"> </span>cost_difference_CHF</span>
<span id="cb14-20"><a href="#cb14-20"></a>  total_new_rent_monthly_CHF &lt;-<span class="st"> </span>act_rent_CHF <span class="op">+</span><span class="st"> </span>total_add_rent_monthly_CHF</span>
<span id="cb14-21"><a href="#cb14-21"></a>  rent_answers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Your actual rent per month in CHF is:&quot;</span>, <span class="st">&quot;The additional rent per month in CHF is:&quot;</span>,</span>
<span id="cb14-22"><a href="#cb14-22"></a>                    <span class="st">&quot;And the new total rent per month in CHF is:&quot;</span>)</span>
<span id="cb14-23"><a href="#cb14-23"></a>  rent_summary &lt;-<span class="st"> </span><span class="kw">c</span>(act_rent_CHF, total_add_rent_monthly_CHF, total_new_rent_monthly_CHF)</span>
<span id="cb14-24"><a href="#cb14-24"></a>  rent_summary &lt;-<span class="st"> </span><span class="kw">round</span>(rent_summary<span class="op">/</span><span class="dv">5</span>, <span class="dt">digits =</span> <span class="dv">2</span>)<span class="op">*</span><span class="dv">5</span>   <span class="co"># round to 5 cts.</span></span>
<span id="cb14-25"><a href="#cb14-25"></a>  rent_result &lt;-<span class="st"> </span><span class="kw">as.table</span>(<span class="kw">cbind</span>(rent_answers, rent_summary))</span>
<span id="cb14-26"><a href="#cb14-26"></a>  <span class="kw">list</span>(rent_result, <span class="kw">c</span>(<span class="st">&quot;due to a procentual change in costs (in %):&quot;</span>, cost_diff_rate<span class="op">*</span>flat_rate))</span>
<span id="cb14-27"><a href="#cb14-27"></a></span>
<span id="cb14-28"><a href="#cb14-28"></a>}</span></code></pre></div>
<div id="examples-to-part-c.3-cost-increase" class="section level4">
<h4>Examples to PART C.3: Cost increase</h4>
<p>If the last adjustment of the rent was in june 2019, the actual rent in CHF is 1000 and you let the flat rate at the default level of 0.5 %, you use:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw">cost_incr_change</span>(<span class="dv">1000</span>, <span class="st">&quot;2019-06-01&quot;</span>)</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="co">#&gt;   actual_answers                                          actual_data</span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="co">#&gt; A The actual mortgage rate in % is:                       1.25       </span></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="co">#&gt; B The actual date is:                                     2020-06-12 </span></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="co">#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3</span></span>
<span id="cb15-6"><a href="#cb15-6"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb15-7"><a href="#cb15-7"></a><span class="co">#&gt;   rent_answers                                rent_summary</span></span>
<span id="cb15-8"><a href="#cb15-8"></a><span class="co">#&gt; A Your actual rent per month in CHF is:       1000        </span></span>
<span id="cb15-9"><a href="#cb15-9"></a><span class="co">#&gt; B The additional rent per month in CHF is:    5           </span></span>
<span id="cb15-10"><a href="#cb15-10"></a><span class="co">#&gt; C And the new total rent per month in CHF is: 1005        </span></span>
<span id="cb15-11"><a href="#cb15-11"></a><span class="co">#&gt; </span></span>
<span id="cb15-12"><a href="#cb15-12"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb15-13"><a href="#cb15-13"></a><span class="co">#&gt; [1] &quot;due to a procentual change in costs (in %):&quot;</span></span>
<span id="cb15-14"><a href="#cb15-14"></a><span class="co">#&gt; [2] &quot;0.5&quot;</span></span></code></pre></div>
<p>If you like to have the same but with a flat rate of 1 % you use:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw">cost_incr_change</span>(<span class="dv">1000</span>, <span class="st">&quot;2019-06-01&quot;</span>, <span class="dv">1</span>)</span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="co">#&gt;   actual_answers                                          actual_data</span></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="co">#&gt; A The actual mortgage rate in % is:                       1.25       </span></span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="co">#&gt; B The actual date is:                                     2020-06-12 </span></span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="co">#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3</span></span>
<span id="cb16-6"><a href="#cb16-6"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="co">#&gt;   rent_answers                                rent_summary</span></span>
<span id="cb16-8"><a href="#cb16-8"></a><span class="co">#&gt; A Your actual rent per month in CHF is:       1000        </span></span>
<span id="cb16-9"><a href="#cb16-9"></a><span class="co">#&gt; B The additional rent per month in CHF is:    10          </span></span>
<span id="cb16-10"><a href="#cb16-10"></a><span class="co">#&gt; C And the new total rent per month in CHF is: 1010        </span></span>
<span id="cb16-11"><a href="#cb16-11"></a><span class="co">#&gt; </span></span>
<span id="cb16-12"><a href="#cb16-12"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb16-13"><a href="#cb16-13"></a><span class="co">#&gt; [1] &quot;due to a procentual change in costs (in %):&quot;</span></span>
<span id="cb16-14"><a href="#cb16-14"></a><span class="co">#&gt; [2] &quot;1&quot;</span></span></code></pre></div>
</div>
<div id="part-c.4-change-due-to-new-market-circumstances" class="section level4">
<h4>PART C.4: CHANGE DUE TO NEW MARKET CIRCUMSTANCES</h4>
</div>
<div id="explanation-behind-5" class="section level4">
<h4>Explanation behind</h4>
<p>This function combines all the elements that affect the change in rent due to changes in the market circumstances like inflation rates (C.1), mortgage rates (C.2) or cost increasing (C.3). Because they are ale relatively expressed to the acutal rent and to the market changes, they can be combined into one. This will lead to actualization in the rent regarding to all market circumstances.</p>
</div>
</div>
<div id="informations-that-the-user-has-to-put-into-the-function-2" class="section level3">
<h3>Informations that the user has to put into the function</h3>
<p>To calculate changes due to different changes on th market the function needs from the user:</p>
<p>
<ul>
<li>actual net rent (act_rent_CHF)
<ul>
<li>the date, when the inflation rate was adjusted the last time (inflation_rate_last_date)</li>
<li>the date, when the mortgage was adjusted the last time (reference_last_date)</li>
<li>the date, when the cost increasing was adjusted the last time (cost_incr_last_date)</li>
<li>the used flat rate between 0 and 1 % (flat_rate) by default it is 0.5 %</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>RentCalculatorNewCircum  &lt;-<span class="st"> </span><span class="cf">function</span>(act_rent_CHF, inflation_rate_last_date, reference_last_date,</span>
<span id="cb17-2"><a href="#cb17-2"></a>                                     cost_incr_last_date, <span class="dt">flat_rate =</span> <span class="fl">0.5</span>) {</span>
<span id="cb17-3"><a href="#cb17-3"></a></span>
<span id="cb17-4"><a href="#cb17-4"></a>  <span class="co"># call all functions and save them to separate variables</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>  inflation &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">inf_rate_change</span>(act_rent_CHF, inflation_rate_last_date))</span>
<span id="cb17-6"><a href="#cb17-6"></a>  mortgage &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">mortgage_rate_change</span>(act_rent_CHF, reference_last_date))</span>
<span id="cb17-7"><a href="#cb17-7"></a>  costs &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">cost_incr_change</span>(act_rent_CHF, cost_incr_last_date, flat_rate))</span>
<span id="cb17-8"><a href="#cb17-8"></a>  inflation_CHF &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(inflation[<span class="dv">5</span>,<span class="dv">3</span>])</span>
<span id="cb17-9"><a href="#cb17-9"></a>  mortgage_CHF &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(mortgage[<span class="dv">5</span>,<span class="dv">3</span>])</span>
<span id="cb17-10"><a href="#cb17-10"></a>  costs_CHF &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(costs[<span class="dv">5</span>,<span class="dv">3</span>])</span>
<span id="cb17-11"><a href="#cb17-11"></a>  total_new &lt;-<span class="st"> </span>act_rent_CHF <span class="op">+</span><span class="st"> </span>inflation_CHF <span class="op">+</span><span class="st"> </span>mortgage_CHF <span class="op">+</span><span class="st"> </span>costs_CHF</span>
<span id="cb17-12"><a href="#cb17-12"></a>  total_change &lt;-<span class="st"> </span>inflation_CHF <span class="op">+</span><span class="st"> </span>mortgage_CHF <span class="op">+</span><span class="st"> </span>costs_CHF</span>
<span id="cb17-13"><a href="#cb17-13"></a></span>
<span id="cb17-14"><a href="#cb17-14"></a></span>
<span id="cb17-15"><a href="#cb17-15"></a>  <span class="co"># PRINT RESULTS</span></span>
<span id="cb17-16"><a href="#cb17-16"></a>  <span class="co">#############################</span></span>
<span id="cb17-17"><a href="#cb17-17"></a></span>
<span id="cb17-18"><a href="#cb17-18"></a>  <span class="co">#total rent results and report</span></span>
<span id="cb17-19"><a href="#cb17-19"></a>  answer &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Your actual rent per month in CHF is:&quot;</span>,</span>
<span id="cb17-20"><a href="#cb17-20"></a>              <span class="st">&quot;The change in rent per month due to inflation in CHF is:&quot;</span>,</span>
<span id="cb17-21"><a href="#cb17-21"></a>              <span class="st">&quot;The change in rent per month due to mortgage in CHF is:&quot;</span>,</span>
<span id="cb17-22"><a href="#cb17-22"></a>              <span class="st">&quot;The change in rent per month due to cost increase in CHF is:&quot;</span>,</span>
<span id="cb17-23"><a href="#cb17-23"></a>              <span class="st">&quot;And the new total rent per month in CHF is:&quot;</span>,</span>
<span id="cb17-24"><a href="#cb17-24"></a>              <span class="st">&quot;This is a change of total:&quot;</span>)</span>
<span id="cb17-25"><a href="#cb17-25"></a></span>
<span id="cb17-26"><a href="#cb17-26"></a>  summary &lt;-<span class="st"> </span><span class="kw">c</span>(act_rent_CHF, inflation_CHF, mortgage_CHF, costs_CHF,</span>
<span id="cb17-27"><a href="#cb17-27"></a>               total_new, total_change)</span>
<span id="cb17-28"><a href="#cb17-28"></a></span>
<span id="cb17-29"><a href="#cb17-29"></a>  rent_result &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">cbind</span>(answer, summary))</span>
<span id="cb17-30"><a href="#cb17-30"></a>  <span class="kw">list</span>(rent_result)</span>
<span id="cb17-31"><a href="#cb17-31"></a></span>
<span id="cb17-32"><a href="#cb17-32"></a>}</span></code></pre></div>
<div id="examples-to-part-c.4-change-in-market-circumstances" class="section level4">
<h4>Examples to PART C.4: Change in market circumstances</h4>
<p>If you would like to calculate all changes due to changes in market circumstances together you can use the RentCalculatorNewCircum function. This combines all PART C.1 - C.3 in one. It gives you an output and a dataset of the single changes, the total new rent and the total changes.</p>
<p>For example if your actual rent is 1000 CHF and the last adjustments to inflation was on the 01.10.2016, the one to mortgage on the 3.9.2013 and to the costs on 1.6.2019 you use (supposing the flat rate for the cost increase is 1 %):</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="kw">RentCalculatorNewCircum</span>(<span class="dv">1000</span>, <span class="st">&quot;2016-10-01&quot;</span>, <span class="st">&quot;2013-09-03&quot;</span>, <span class="st">&quot;2019-06-01&quot;</span>, <span class="dv">1</span>)</span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="co">#&gt;   actual_answers                                          actual_data</span></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="co">#&gt; A The actual mortgage rate in % is:                       1.25       </span></span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="co">#&gt; B The actual date is:                                     2020-06-12 </span></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="co">#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3      </span></span>
<span id="cb18-6"><a href="#cb18-6"></a><span class="co">#&gt;   actual_answers                                          actual_data</span></span>
<span id="cb18-7"><a href="#cb18-7"></a><span class="co">#&gt; A The actual mortgage rate in % is:                       1.25       </span></span>
<span id="cb18-8"><a href="#cb18-8"></a><span class="co">#&gt; B The actual date is:                                     2020-06-12 </span></span>
<span id="cb18-9"><a href="#cb18-9"></a><span class="co">#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3      </span></span>
<span id="cb18-10"><a href="#cb18-10"></a><span class="co">#&gt;   actual_answers                                          actual_data</span></span>
<span id="cb18-11"><a href="#cb18-11"></a><span class="co">#&gt; A The actual mortgage rate in % is:                       1.25       </span></span>
<span id="cb18-12"><a href="#cb18-12"></a><span class="co">#&gt; B The actual date is:                                     2020-06-12 </span></span>
<span id="cb18-13"><a href="#cb18-13"></a><span class="co">#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3</span></span>
<span id="cb18-14"><a href="#cb18-14"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb18-15"><a href="#cb18-15"></a><span class="co">#&gt;                                                         answer summary</span></span>
<span id="cb18-16"><a href="#cb18-16"></a><span class="co">#&gt; 1                        Your actual rent per month in CHF is:    1000</span></span>
<span id="cb18-17"><a href="#cb18-17"></a><span class="co">#&gt; 2     The change in rent per month due to inflation in CHF is:       4</span></span>
<span id="cb18-18"><a href="#cb18-18"></a><span class="co">#&gt; 3      The change in rent per month due to mortgage in CHF is:  -82.55</span></span>
<span id="cb18-19"><a href="#cb18-19"></a><span class="co">#&gt; 4 The change in rent per month due to cost increase in CHF is:      10</span></span>
<span id="cb18-20"><a href="#cb18-20"></a><span class="co">#&gt; 5                  And the new total rent per month in CHF is:  931.45</span></span>
<span id="cb18-21"><a href="#cb18-21"></a><span class="co">#&gt; 6                                   This is a change of total:  -68.55</span></span></code></pre></div>
</div>
<div id="examples-for-use-of-part-a-to-c-together" class="section level4">
<h4>EXAMPLES for use of PART A to C together</h4>
<p>If you have an apartment that is totally renovated and you have to calculate the new rent due to the investments and also due to changes in the market you can use the RentInvestCalculatoR together with the RentCalculatorNewCircum very easy. You take the two as data frames functions and add them to a new variable.</p>
<p>Let’s say you invested 100000 CHF with a value increasing share of 50 % and a lifespan of 12 years, while the rent before the investment was 1000 CHF. So you use the RentInvestCalculatoR first.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>invest &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">RentInvestCalculatoR</span>(<span class="dv">1000</span>,<span class="dv">100000</span>,<span class="dv">50</span>,<span class="dv">12</span>))</span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="co">#&gt;   actual_answers                                          actual_data</span></span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="co">#&gt; A The actual mortgage rate in % is:                       1.25       </span></span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="co">#&gt; B The actual date is:                                     2020-06-12 </span></span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="co">#&gt; C And the actual inflation rate is (points on 2015 basis) 101.3      </span></span>
<span id="cb19-6"><a href="#cb19-6"></a><span class="co">#&gt; [1] &quot;*******************************************************************************&quot;</span></span>
<span id="cb19-7"><a href="#cb19-7"></a><span class="co">#&gt;     value_incr_share_CHF depreciation_CHF interest_CHF maintenance_CHF</span></span>
<span id="cb19-8"><a href="#cb19-8"></a><span class="co">#&gt; CHF                50000          4166.65        437.5           460.4</span></span>
<span id="cb19-9"><a href="#cb19-9"></a><span class="co">#&gt;     total_add_rent_monthly_CHF total_new_rent_monthly_CHF</span></span>
<span id="cb19-10"><a href="#cb19-10"></a><span class="co">#&gt; CHF                     422.05                    1422.05</span></span></code></pre></div>
<p>Let’s say the last adjustments to inflation was on the 01.10.2016, the one to mortgage on the 3.9.2013 and to the costs on 1.6.2019 you use (supposing the flat rate for the cost increase is 1 %):</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>market &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">RentCalculatorNewCircum</span>(<span class="dv">1000</span>, <span class="st">&quot;2016-10-01&quot;</span>, <span class="st">&quot;2013-09-03&quot;</span>, <span class="st">&quot;2019-06-01&quot;</span>, <span class="dv">1</span>))</span></code></pre></div>
<p>And then add the data with new added monthly value of the investment into the subset of market and add up the the sum of market changes (row 1 to 4) and the monthly added rent due to investment together to a new line which gives you the TOTAL result:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>OverAllNewRent &lt;-<span class="st"> </span><span class="kw">rbind</span>(market[(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>),],</span>
<span id="cb21-2"><a href="#cb21-2"></a>                        <span class="kw">c</span>(<span class="st">&quot;The change in rent per month due to investment is:&quot;</span>, invest<span class="op">$</span>total_add_rent_monthly_CHF),</span>
<span id="cb21-3"><a href="#cb21-3"></a>                        <span class="kw">c</span>(<span class="st">&quot;And the new TOTAL rent per month in CHF is:&quot;</span>, <span class="kw">sum</span>(<span class="kw">as.numeric</span>(market[(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>),<span class="dv">2</span>]))</span>
<span id="cb21-4"><a href="#cb21-4"></a>                          <span class="op">+</span>invest<span class="op">$</span>total_add_rent_monthly_CHF)</span>
<span id="cb21-5"><a href="#cb21-5"></a>)</span></code></pre></div>
</div>
</div>
</div>
<div id="bibliography" class="section level2">
<h2>BIBLIOGRAPHY</h2>
<p>Topic related informations about rents in Switzerland</p>
<p>
<p><a href="https://www.mietrecht.ch" class="uri">https://www.mietrecht.ch</a></p>
<p>
<p>General R</p>
<p>
<p><a href="https://stat.ethz.ch/R-manual/" class="uri">https://stat.ethz.ch/R-manual/</a> <a href="http://www.wolferonline.de/xmlR/XMLinR.pdf" class="uri">http://www.wolferonline.de/xmlR/XMLinR.pdf</a> <a href="https://de.wikibooks.org/wiki/GNU_R" class="uri">https://de.wikibooks.org/wiki/GNU_R</a> <a href="https://stackoverflow.com/" class="uri">https://stackoverflow.com/</a></p>
<p>Creating a package</p>
<p>
<p><a href="https://www.analyticsvidhya.com/blog/2017/03/create-packages-r-cran-github/" class="uri">https://www.analyticsvidhya.com/blog/2017/03/create-packages-r-cran-github/</a> <a href="http://portal.stats.ox.ac.uk/userdata/ruth/APTS2012/Rcourse10.pdf" class="uri">http://portal.stats.ox.ac.uk/userdata/ruth/APTS2012/Rcourse10.pdf</a> <a href="https://cran.r-project.org/doc/contrib/Leisch-CreatingPackages.pdf" class="uri">https://cran.r-project.org/doc/contrib/Leisch-CreatingPackages.pdf</a> <a href="https://support.rstudio.com/hc/en-us/articles/200486508-Building-Testing-and-Distributing-Packages" class="uri">https://support.rstudio.com/hc/en-us/articles/200486508-Building-Testing-and-Distributing-Packages</a> <a href="https://support.rstudio.com/hc/en-us/articles/200486518" class="uri">https://support.rstudio.com/hc/en-us/articles/200486518</a></p>
<p>Writing documentation</p>
<p>
<p><a href="https://support.rstudio.com/hc/en-us/articles/200532317-Writing-Package-Documentation" class="uri">https://support.rstudio.com/hc/en-us/articles/200532317-Writing-Package-Documentation</a></p>
<p>Debugging</p>
<p>
<p><a href="https://stat.ethz.ch/pipermail/r-help/2014-May/374864.html" class="uri">https://stat.ethz.ch/pipermail/r-help/2014-May/374864.html</a> <a href="https://stackoverflow.com/questions/26697727/what-does-error-in-namespaceexportns-exports-undefined-exports-mean" class="uri">https://stackoverflow.com/questions/26697727/what-does-error-in-namespaceexportns-exports-undefined-exports-mean</a></p>
<p>Publishing on a GitHub-Account</p>
<p>
<p><a href="https://www.analyticsvidhya.com/blog/2017/03/create-packages-r-cran-github/" class="uri">https://www.analyticsvidhya.com/blog/2017/03/create-packages-r-cran-github/</a></p>
<p>
<div id="authors-declaration" class="section level3">
<h3>AUTHOR’S DECLARATION</h3>
<p>We hereby certify that:</p>
<p>
<ul>
<li>We have written the program ourselves except for clearly marked pieces of code</li>
<li>We have tested the program and it ran without crashing</li>
</ul>
<p>
<p>Giuliano Giovanardi and Ruth Peterhans</p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
